<!DOCTYPE html>
<html lang="en" data-theme="light">
<!--^ "data-bs-theme" is there as a placeholder, as sprint 2 only covers one style, for an extra styling option for the user in the third sprint-->
<head>
    <title>LMC</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" >
    <link rel="stylesheet" href="../styles/commons.css">
    <link rel="stylesheet" href="../styles/default.css">
    <link rel="icon" type="image/png" href="../assets/favicon.png">
</head>
<body>
    <div class="container-fluid">
    <!--^ makes the LMC simulator UI dynamic/flexable - scales when you zoom in/out or change window size-->
        <div class="row">
        <!--^ necessary to keep each section in thier own column, otherwise they all load in the first column-->
            <!--#region left section-->
            <div class="col-sm-4">
                <div class="well mb-3">
                    <!--^ mb,mt,mr,ml all used as paddings -->
                    <table class="table" id="editorTable">
                        <tr>
                            <th>#</th>
                            <th>Label</th>
                            <th>Opcode</th>
                            <th>Operand</th>
                        </tr>
                        <tr id="line-0">
                            <td>0</td>
                            <td id="0-0"><input type="text" class="form-control col-xs-11" id="input-0-0" oninput="addRowIfNeeded(this)" onkeydown="navigateEditor(event)"></td>
                            <!--^ Apparently putting Bootstrap classes directly inside (instead of in div tag) usually dont work but for this one it does-->
                            <td id="0-1"><input type="text" class="form-control col-xs-11" id="input-0-1" oninput="addRowIfNeeded(this)" onkeydown="navigateEditor(event)"></td>
                            <td id="0-2"><input type="text" class="form-control col-xs-11" id="input-0-2" oninput="addRowIfNeeded(this)" onkeydown="navigateEditor(event)"></td>

                        </tr>
                        <tr id="line-1">
                            <td>1</td>
                            <td id="1-0"><input type="text" class="form-control col-xs-11" id="input-1-0" oninput="addRowIfNeeded(this)" onkeydown="navigateEditor(event)"></td>
                            <td id="1-1"><input type="text" class="form-control col-xs-11" id="input-1-1" oninput="addRowIfNeeded(this)" onkeydown="navigateEditor(event)"></td>
                            <td id="1-2"><input type="text" class="form-control col-xs-11" id="input-1-2" oninput="addRowIfNeeded(this)" onkeydown="navigateEditor(event)"></td>
                        </tr>
                    </table>
                </div>
                <div class="well">
                    <button class="btn mb-3" id="Menu">Back to menu</button>
                    <button class="btn mb-3" id="timeOrStep">Time or Step</button>
                    <button class="btn mb-3" id="Reset">Reset</button>
                    <button class="btn mb-3">Run Settings</button>
                    <button class="btn mb-3" id="compile">Compile</button>
                    <button class="btn mb-3" id="run">Run</button>
                    <button class="btn mb-3" id="manual">Manual</button>
                    <button class="btn mb-3" id="submitInput">Submit Input</button>
                    <button class="btn mb-3" id="toggleMode">Toggle Light/dark Mode</button>
                    <button class="btn mb-3" id="toggleDisplay">Toggle Display</button>
                </div>
            </div>
            <!--#endregion-->
            <!--#region middle section-->
            <div class="col-sm-4">
                <div class="well">
                    <div class="list-item">
                        <div class="input-group mb-3">
                            <!--* https://www.w3schools.com/bootstrap5/bootstrap_form_input_group.php -->
                            <span class="input-group-text" id="registerProgramCounter">Program Counter</span>
                            <input type="text" class="form-control" readonly>

                        </div>
                    </div>
                    <div class="list-item">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="registerInstruction">Memory Instruction Register</span>
                            <input type="text" class="form-control text-end" readonly>
                        </div>
                    </div>
                    <div class="list-item">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="registerAddress">Memory Address Register</span>
                            <input type="text" class="form-control text-end" readonly>
                        </div>
                    </div>
                    <div class="list-item">
                        <div class="input-group mb-3">
                            <span class="input-group-text" id="registerAccumulator">Accumulator</span>
                            <input type="text" class="form-control text-end" readonly>
                        </div>
                    </div>
                </div>
                <div class="well">
                    <span>Arithmetic Logical Unit status</span>
                    <div class="d-flex">
                        <input type="text" class="form-control" id="flow" style="flex: 0.5;" readonly>
                        <!--^ the style part is a shorthand for 'flex-shrink' or 'flex-grow' but can specify the scale of the effect -->
                        <!--^ and it is neccessary to tweak that way because the sub-section/'well' is too small that 'flex-shrink' does not -->
                        <!--^ actually have any meaningful effect -->

                        <!--^ unlike the textboxes inside the table (code editor), Bootstrap classes only work in div tags instead of directly inside -->
                        <input type="text" class="form-control" id="operation" style="flex: 2;" readonly>
                        <input type="text" class="form-control" id="result" style="flex: 0.5;" readonly>
                    </div>
                </div>
                <div class="well">
                    <div class="group">
                        <div class="input-group mb-3 mr-3 mt-3">
                            <span class="input-group-text">Input</span>
                            <input type="text" class="form-control" id="input" readonly>
                        </div>
                        <div class="input-group mb-3">
                            <span class="input-group-text">Output</span>
                            <input type="text" class="form-control" id="output" readonly>
                        </div>
                    </div>
                    <div class="input-group mb-3">
                        <span class="input-group-text">Pre-defined Inputs</span>
                        <input type="text" class="form-control" id="predefinedInputs">
                    </div>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="col-md-6 well">
                            <div id="displayBox">If you are seing this message then that means that the JavaScript UI application loading isn't complete or failed.</div>
                        </div>
                        <div class="col-md-6 well">
                            <span id="status">simulator loaded</span>
                        </div>
                    </div>
                </div>
            </div>
            <!--#endregion-->
            <!--#region right section-->
            <div class="col-sm-4">
                <div class="well">
                    <table class="table" id="memoryTable"></table>
                    <!--^ better for compiled TS to expand and fill the table for good coding practice -->
                </div>
            </div>
            <!--#endregion-->
        </div>
    </div>
</body>
    <!--: Allows script to load after the HTML to prevent getting nulls/undefined when fetching HTML elements -->
    <script type="module" src="../compiled/vonNeumann.js"></script>
    <script type="module" src="../compiled/compiler.js"></script>
    <script type="module" src="../compiled/simulatorUI.js"></script>
    <script type="module" src="../compiled/middleware.js"></script>
</html>
